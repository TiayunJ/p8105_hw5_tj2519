---
title: "p8105_hw5_tj2519"
output: github_document
date: "2023-11-08"
---

# Problem 0: load library
```{r}
library(tidyverse)

```

# Problem 1
## create the new variable
```{r}
pro1_df = 
  read_csv("data_p1/homicide-data.csv") %>% 
  mutate(city_state = paste(city, state, sep = ", ")) %>% 
  mutate(city_state = str_replace(city_state,"Tulsa , AL", "Tulsa , OK"))

```

## summarize dataset
```{r}
clean_df = pro1_df %>% 
  mutate(disposition = 
           ifelse(disposition %in% c("Closed without arrest", "Open/No arrest"), "Unsolved homicides", "Solved homicides")) %>%
  group_by(city_state, disposition) %>% 
  summarize(obs = n()) %>% 
  pivot_wider(names_from = "disposition", values_from = "obs") %>% 
  janitor::clean_names() %>% 
  mutate(total = sum(solved_homicides, unsolved_homicides)) %>% view()

bal = clean_df %>% 
  filter(city == "Baltimore") %>% 
  

results = 
  prop.test(pull(bal, solved_homicides), pull(bal, total)) %>% 
  broom::tidy() %>% 
  janitor::clean_names() %>% 
  select(estimate, conf_low, conf_high)
  
```




# Problem 2
```{r}

```



